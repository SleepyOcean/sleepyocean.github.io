(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{505:function(s,t,n){"use strict";n.r(t);var a=n(42),e=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"缘起"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缘起"}},[s._v("#")]),s._v(" 缘起")]),s._v(" "),n("p",[s._v("之前遇到在 Windows 下给终端（cmd，Git Bash，PowerShell）配置代理时，总是模模糊糊的就过去了，今天又折腾了一次，恰巧有时间记下来，不想要再次重复了。")]),s._v(" "),n("p",[s._v("其实命令很简单，跟在 "),n("strong",[s._v("Linux")]),s._v(" 下没什么区别。")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" http_proxy=http:"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("127"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("1:1080\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" https_proxy=http:"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("127"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("1:1080\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" http_proxy_user=user\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" http_proxy_pass=pass\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" https_proxy_user=user\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" https_proxy_pass=pass\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 恢复")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" http_proxy=\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" https_proxy=\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Ubuntu 下命令为 export")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# export http_proxy=http://127.0.0.1:1080")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("p",[s._v("就是两条命令，前两条。")]),s._v(" "),n("h3",{attrs:{id:"要点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#要点"}},[s._v("#")]),s._v(" 要点")]),s._v(" "),n("ol",[n("li",[s._v("一定要加 "),n("code",[s._v("http://")]),s._v("，直接写域名或者 IP 不行。")]),s._v(" "),n("li",[n("strong",[s._v("http")]),s._v(" 和 "),n("strong",[s._v("https")]),s._v(" 都要设置。")])]),s._v(" "),n("p",[s._v("然后如果想验证是否成功配置了代理的话，用 "),n("code",[s._v("ping")]),s._v(" 命令是不可以的")]),s._v(" "),n("h3",{attrs:{id:"ping-还是不行的原因"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ping-还是不行的原因"}},[s._v("#")]),s._v(" ping 还是不行的原因")]),s._v(" "),n("p",[s._v("ping的协议不是https，也不是https，是ICMP协议。")]),s._v(" "),n("h3",{attrs:{id:"验证方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#验证方式"}},[s._v("#")]),s._v(" 验证方式")]),s._v(" "),n("p",[n("code",[s._v("curl -vv http://www.google.com")]),s._v("，用这条命令来验证，如果返回如下结果表示代理设置成功。")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://zcdll.github.io/images/curl-google.png",alt:"curl-google"}})]),s._v(" "),n("p",[s._v("这里还有一个坑是，"),n("strong",[s._v("cmd")]),s._v("，"),n("strong",[s._v("Git Bash")]),s._v("，"),n("strong",[s._v("PowerShell")]),s._v(" 设置的方式不同！！！有点精神分裂了。。。")]),s._v(" "),n("ul",[n("li",[n("p",[n("strong",[s._v("cmd")]),s._v(" 中用 "),n("code",[s._v("set http_proxy")]),s._v(" 设置")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("Git Bash")]),s._v(" 中用 "),n("code",[s._v("export http_proxy")]),s._v(" 设置")])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("PowerShell")]),s._v(" 中按照这样设置")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# NOTE: registry keys for IE 8, may vary for other versions\n$regPath = 'HKCU:\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings'\n\nfunction Clear-Proxy\n{\n    Set-ItemProperty -Path $regPath -Name ProxyEnable -Value 0\n    Set-ItemProperty -Path $regPath -Name ProxyServer -Value ''\n    Set-ItemProperty -Path $regPath -Name ProxyOverride -Value ''\n\n    [Environment]::SetEnvironmentVariable('http_proxy', $null, 'User')\n    [Environment]::SetEnvironmentVariable('https_proxy', $null, 'User')\n}\n\nfunction Set-Proxy\n{\n    $proxy = 'http://example.com'\n\n    Set-ItemProperty -Path $regPath -Name ProxyEnable -Value 1\n    Set-ItemProperty -Path $regPath -Name ProxyServer -Value $proxy\n    Set-ItemProperty -Path $regPath -Name ProxyOverride -Value '<local>'\n\n    [Environment]::SetEnvironmentVariable('http_proxy', $proxy, 'User')\n    [Environment]::SetEnvironmentVariable('https_proxy', $proxy, 'User')\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])])]),s._v(" "),n("p",[n("strong",[s._v("纠结于应该用 "),n("code",[s._v("set")]),s._v(" 还是 "),n("code",[s._v("export")]),s._v(" 还有一个判断方法是，敲一下这两个命令，如果返回一个长长的列表，就表示应该用这个命令，反之，如果返回找不到这个命令，就不应该用这个命令。")])]),s._v(" "),n("h3",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),n("p",[s._v("这次应该是搞清楚了 Windows 下如何给 "),n("strong",[s._v("Terminal")]),s._v(" 设置代理，花了一个多小时的时间，感觉很值！")]),s._v(" "),n("h3",{attrs:{id:"参考链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考链接"}},[s._v("#")]),s._v(" 参考链接：")]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://yevon-cn.github.io/2017/05/05/set-proxy-of-cmd.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("命令行配置代理服务器"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/shadowsocks/shadowsocks-windows/issues/1489",target:"_blank",rel:"noopener noreferrer"}},[s._v("windows终端命令行下如何使用代理？"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.cnblogs.com/xing901022/p/4652624.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("windows（64位）下使用curl命令"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://www.s0nnet.com/archives/icmp-ping",target:"_blank",rel:"noopener noreferrer"}},[s._v("ICMP协议与ping原理"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://zh.wikipedia.org/wiki/Ping",target:"_blank",rel:"noopener noreferrer"}},[s._v("ping"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://gist.github.com/famousgarkin/c5138b1e13ac41920d22",target:"_blank",rel:"noopener noreferrer"}},[s._v("PowerShell Set-Proxy, Clear-proxy"),n("OutboundLink")],1)])]),s._v(" "),n("h2",{attrs:{id:"windows命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#windows命令"}},[s._v("#")]),s._v(" Windows命令")]),s._v(" "),n("h3",{attrs:{id:"磁盘管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#磁盘管理"}},[s._v("#")]),s._v(" 磁盘管理")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输入以下命令进入diskpart管理工具")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" diskpart\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 列出所有磁盘")]),s._v("\nDISKPART"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" list disk\n  磁盘 "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("###  状态           大小     可用     Dyn  Gpt")]),s._v("\n  --------  -------------  -------  -------  ---  ---\n  磁盘 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("    联机             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1863")]),s._v(" GB  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" KB        *\n  磁盘 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("    联机             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1863")]),s._v(" GB  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" KB        *\n  磁盘 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("    联机              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("953")]),s._v(" GB      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" B\n  磁盘 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("    联机              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("465")]),s._v(" GB  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2048")]),s._v(" KB        *\n  磁盘 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("    联机              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("953")]),s._v(" GB      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" B\n  磁盘 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("    联机               "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("59")]),s._v(" GB  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2561")]),s._v(" MB        *\n\nDISKPART"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" disk "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n\n磁盘 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" 现在是所选磁盘。\n\nDISKPART"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" clean\n\nDiskPart 成功地清除了磁盘。\n\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);