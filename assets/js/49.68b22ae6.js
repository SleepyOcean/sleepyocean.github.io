(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{521:function(s,e,a){"use strict";a.r(e);var n=a(42),t=Object(n.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("Confluence是一个专业的企业知识管理与协同软件，也可以用于构建企业wiki。使用简单，但它强大的编辑和站点管理特征能够帮助团队成员之间共享信息、文档协作、集体讨论，信息推送。")]),s._v(" "),a("p",[s._v("本次教程以安装confluence7.9.0为例。")]),s._v(" "),a("p",[s._v("工具：")]),s._v(" "),a("ul",[a("li",[s._v("SSH连接工具：terminus")]),s._v(" "),a("li",[s._v("容器环境：Docker")]),s._v(" "),a("li",[s._v("Git")])]),s._v(" "),a("h2",{attrs:{id:"一、安装步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、安装步骤"}},[s._v("#")]),s._v(" 一、安装步骤")]),s._v(" "),a("p",[s._v("1）拉取镜像，启动confluence")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取镜像")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull cptactionhank/atlassian-confluence:7.9.0\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动confluence，关联postgres数据库")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --name confluence -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11000")]),s._v(":8090 --link postgres:postgres --user root:root cptactionhank/atlassian-confluence:7.9.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("2）进入confluence页面，此处的地址是http://localhost:7090/")]),s._v(" "),a("ul",[a("li",[s._v("选择中文")]),s._v(" "),a("li",[s._v("不用选取Question和xxx")]),s._v(" "),a("li",[s._v("记录下==服务器ID==，稍后破解用")])]),s._v(" "),a("p",[s._v("3）开始破解")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 拉取破解文件，破解文件在该项目的crackfile文件夹中")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/joker8023/confluence.git\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("使用破解工具生成新的jar文件。运行crackfile/iNViSiBLE/keygen.sh脚本，即可启动keygen的程序。")]),s._v(" "),a("p",[s._v("在程序中，随意填写一个Name，然后填入之前记录的==服务器ID==，点击"),a("code",[s._v("gen")]),s._v("按钮生成激活的Key。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 接着将crackfile目录下的atlassian-extras-2.4.jar文件复制替换掉容器中的atlassian-extras-decoder-v2-3.4.1.jar")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" ./confluence/crackfile/atlassian-extras-decoder-v2-3.2.jar confluence:/opt/atlassian/confluence/confluence/WEB-INF/lib/atlassian-extras-decoder-v2-3.4.1.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("4）重启confluence")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" restart confluence\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("5）再次进入confluence页面，此处的地址是http://localhost:7090/")]),s._v(" "),a("ul",[a("li",[s._v("粘贴刚才生成的激活的key")]),s._v(" "),a("li",[s._v("配置confluence")])]),s._v(" "),a("h2",{attrs:{id:"二、配置流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、配置流程"}},[s._v("#")]),s._v(" 二、配置流程")]),s._v(" "),a("p",[s._v("1）设置数据库")]),s._v(" "),a("p",[s._v("这里使用宿主机下docker运行的postgres存储confluence数据")]),s._v(" "),a("p",[s._v("首先需要在postgres中创建confluence数据库")]),s._v(" "),a("div",{staticClass:"language-mysql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("CREATE DATABASE confluence;\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("配置连接：jdbc:postgresql://postgres:5432/confluence")])])}),[],!1,null,null,null);e.default=t.exports}}]);